(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91203],{14770:function(e,t,r){Promise.resolve().then(r.bind(r,46747)),Promise.resolve().then(r.bind(r,54542)),Promise.resolve().then(r.t.bind(r,7090,23)),Promise.resolve().then(r.t.bind(r,5591,23)),Promise.resolve().then(r.bind(r,96268)),Promise.resolve().then(r.t.bind(r,4787,23)),Promise.resolve().then(r.t.bind(r,74508,23)),Promise.resolve().then(r.t.bind(r,26769,23)),Promise.resolve().then(r.bind(r,60092)),Promise.resolve().then(r.t.bind(r,25327,23)),Promise.resolve().then(r.t.bind(r,49292,23)),Promise.resolve().then(r.t.bind(r,70364,23)),Promise.resolve().then(r.t.bind(r,82930,23)),Promise.resolve().then(r.t.bind(r,74357,23)),Promise.resolve().then(r.t.bind(r,33086,23)),Promise.resolve().then(r.t.bind(r,41191,23))},46747:function(e,t,r){"use strict";r.d(t,{Providers:function(){return g}});var n=r(27573),o=r(97567),i=r(16820),s=r(18239),c=r(85586),u=r(20010),a=r.n(u),d=r(65880);let l={components:{head:a(),image:d.default},cloudinaryAllowedDomains:["doist.com","doist.net","todoist.com","todoist.net","twist.com","doist.dev","doist-emails.com","dcff1xvirvpfp.cloudfront.net","images.ctfassets.net","blog.doist.com","tdinspiration.wpengine.com","local.todoist.com","get.todoist.help","lh6.googleusercontent.com","pbs.twimg.com","vercel.app"]};var h=r(99752),f=r(79121),p=r(97528),v=r(67269);let m={brand:{Plus:p.Plus,ChevronLeft:p.ChevronLeft,ChevronRight:p.ChevronRight,ChevronUp:p.ChevronUp,ChevronDown:p.ChevronDown,ExternalLink:p.ExternalLink,Article:p.Article,X:p.X,Check:p.Check,Checkbox:p.Checkbox,Warning:p.Warning,ArrowRight:p.ArrowRight,SearchBase:p.SearchBase,DoubleArrows:p.DoubleArrows,Globe:p.Globe,Menu:p.Menu},base:{Article:f.d2,ChevronRight:f._Q,ChevronLeft:f.s$,ChevronDown:f._M,TaskView:f.bj,Lightbulb:f.vu,Doist:f.zH,SocialFacebook:f.rj,SocialInstagram:f.bL,SocialLinkedin:f.zU,SocialTwitter:f.re,SocialYoutube:f.PC,RSS:f.op,Warning:f.nL,ArrowRight:f.ol,Download:f.UW,NewTab:f.RK,Play:f.sh,Close:f.x8,Checkmark:f.MC,TwistUpload:f.sy,UploadDoc:f.dM,UploadImage:f.zv,UploadPDF:f.ud,UploadVideo:f.CP},android:{},ios:{},web:{}};function b(e){let{children:t}=e;return(0,n.jsx)(v.DoistIconsContext.Provider,{value:m,children:t})}var w=r(60147);function g(e){let{children:t,baseUrl:r}=e;return(0,n.jsx)(w.S,{children:(0,n.jsx)(b,{children:(0,n.jsx)(c.H.Provider,{value:r,children:(0,n.jsx)(s.f,{theme:i.np.todoist,children:(0,n.jsx)(h.D,{theme:"red",children:(0,n.jsx)(o.p,{value:l,children:t})})})})})})}},54542:function(e,t,r){"use strict";r.d(t,{DraftModeBanner:function(){return d}});var n=r(27573),o=r(20544),i=r(41159),s=r(24747),c=r(12871),u=r(42865),a=r.n(u);function d(e){let{children:t}=e;return(0,n.jsx)(o.x,{className:"box-highlight pb-8",children:(0,n.jsx)(i.W,{children:(0,n.jsxs)(o.x,{className:a().draftInner,children:[(0,n.jsxs)(c.x,{size:"body-xs",weight:"medium",children:["Draft mode enabled. ",(0,n.jsx)(s.Link,{href:"/nextapi/api/draft-disable",children:"Disable"})]}),(0,n.jsx)(o.x,{children:t})]})})})}},99752:function(e,t,r){"use strict";r.d(t,{D:function(){return i},_:function(){return o}});var n=r(27573);let o=(0,r(7653).createContext)("red");function i(e){let{children:t,theme:r="red"}=e,i=function(e){let t="seaSalt"===e?"sea-salt":e;return{"--productui-primary-theme-color":`var(--${t}-500)`,"--productui-background-light":`var(--${t}-200)`,"--productui-background-dark":`var(--${t}-400)`,"--productui-actionable-primary-bg-onhover":`var(--${t}-600)`,"--productui-display-skeleton-color":`var(--${t}-300)`,"--productui-sidebar-actionable-quaternary-background-active":`var(--${t}-200)`,"--productui-display-color":`var(--${t}-600)`,"--productui-keyword-highlight-background":`var(--${t}-300)`,"--productui-themed-box-background":`var(--${t}-100)`,"--productui-shadow-elevated":`var(--shadow-elevated-${t})`}}(r);return(0,n.jsx)(o.Provider,{value:r,children:(0,n.jsx)("div",{style:i,children:t})})}},67130:function(e,t,r){"use strict";r.d(t,{VF:function(){return o},X9:function(){return s},YW:function(){return i}});var n=r(34485);function o(e){window.dataLayer=window.dataLayer??[],window.dataLayer?.push(e)}function i(e,t){o({event:e,...t})}function s(e){if(e.user){let t=(0,n.F)(e.user),r=e.workspaces.length,i=e.workspaces.some(e=>"BUSINESS"===e.plan)?"business":"starter";o({user_subscription:t,workspace_count:r,workspace_subscription:r?i:void 0,user_id:e.user.id})}}},60147:function(e,t,r){"use strict";r.d(t,{Q:function(){return h},S:function(){return f}});var n=r(27573),o=r(7653),i=r(25353),s=r(67130),c=r(34485),u=r(91848),a=r(69854);let d=["@doist.com","@doist.test"];function l(e){return!!(["verified","legacy"].includes(e.verification_status)&&d.some(t=>e.email.endsWith(t)))}let h=(0,o.createContext)({isAdmin:!1,workspaces:[],currency:"USD",billingCycle:"yearly"});function f(e){let{user:t,workspaces:r=[],children:d,currency:f="USD",billingCycle:p="yearly"}=e,{i18n:{language:v="en"}}=(0,i.$G)(),[m,b]=(0,o.useState)({user:t,workspaces:r,userPlan:(0,c.F)(t),isAdmin:!!t&&l(t),currency:f,billingCycle:p}),[w,g]=(0,o.useState)(!1);async function x(){if(!w){g(!0);try{let e=await fetch("https://todoist.com/nextapi/context",{method:"POST",headers:a.r});if(!e.ok)throw b(e=>({...e,contextInitialized:!0})),Error("Unable to retrieve user context. Status: "+e.status);let t=await e.json();b({user:t.user?t.user:void 0,workspaces:t.workspaces,userPlan:(0,c.F)(t.user),isAdmin:!!t.user&&l(t.user),currency:t.currency,billingCycle:t.billingCycle})}catch(e){console.error(e)}g(!1)}}async function k(e){try{let t=await fetch(`/nextapi/mock/user-state?state=${e}`,{headers:{...a.r}}),{userState:r}=await t.json();b({user:r.user||void 0,workspaces:r.workspaces,userPlan:(0,c.F)(r.user),isAdmin:!!r.user&&l(r.user),currency:"USD",billingCycle:"yearly"})}catch(e){console.error(e)}}return(0,o.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("user_state");e?k(e):t||((0,u.G)()?m.user||x():b({userPlan:void 0,isAdmin:!1,workspaces:[],currency:f,billingCycle:p}))},[]),(0,o.useEffect)(()=>{(0,s.X9)({user:m.user??null,workspaces:m.workspaces})},[m]),(0,o.useEffect)(()=>{(0,s.VF)({language:v})},[v]),(0,n.jsx)(h.Provider,{value:m,children:d})}},34485:function(e,t,r){"use strict";function n(e){if(e)return"teams_business_member"===e.premium_status?"business":"current_personal_plan"===e.premium_status?"pro":"free"}r.d(t,{F:function(){return n}})},91848:function(e,t,r){"use strict";function n(){try{let[e]=performance.getEntriesByType("navigation");if(e)return e.toJSON().serverTiming.some(e=>"likelyLoggedIn"===e.name);return!1}catch(e){return!1}}r.d(t,{G:function(){return n}})},96268:function(e,t,r){"use strict";r.r(t),r(78005).RM.install({token:"b9qu7hg:f6jx5yg"})},69854:function(e,t,r){"use strict";r.d(t,{r:function(){return n}});let n={"x-csrf":"true"}},7090:function(){},4787:function(){},74508:function(){},49292:function(){},42865:function(e){e.exports={draftInner:"draft-mode-banner_draftInner__l5BuK"}},5591:function(e){e.exports={appContainer:"app_appContainer__ru8zT",pageBackground:"app_pageBackground__WCTyD"}},26769:function(e){e.exports={injectFonts:"fonts_injectFonts__M01y5"}},16820:function(e,t,r){"use strict";r.d(t,{SJ:function(){return o},Vc:function(){return n},de:function(){return i},np:function(){return s}});let n="todoist",o="twist",i="doist",s={todoist:n,twist:o,doist:i}},18239:function(e,t,r){"use strict";r.d(t,{N:function(){return s},f:function(){return c}});var n=r(27573),o=r(7653),i=r(16820);let s=(0,o.createContext)({theme:i.Vc});function c(e){let{theme:t,children:r}=e;return(0,n.jsx)(s.Provider,{value:{theme:t},children:r})}},67269:function(e,t,r){"use strict";r.r(t),r.d(t,{DoistIconsContext:function(){return n}});let n=(0,r(7653).createContext)({brand:{},base:{},ios:{},android:{},web:{}})}},function(e){e.O(0,[75078,72238,97193,6961,47261,65880,26119,70235,79883,81293,68326,1744],function(){return e(e.s=14770)}),_N_E=e.O()}]);